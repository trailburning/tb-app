{% extends '::base.html.twig' %}

{% block title %}Discover Trails{% endblock %}

{% block stylesheets %}
<link href="{{ asset('assets/css/mapTrails.css') }}" rel="stylesheet" type="text/css">
{% endblock %}

{% block body %}
<script>
var TB_APP = 'MapTrailsApp';
{% if app.user %}		
var TB_USER_ID = {{ app.user.id }};
{% endif %}
</script>

<div id="mapview">
	<div id="map"></div>
    <div id="map_overlay_view">	
  	  <div class="back tb-move-horiz"></div>
  	  <div class="info-hero tb-move-horiz">  	  	
	    <div class="campaign_title tb-move-horiz">
	    	<h2 class="tb tb-title">Explore</h2><br/><h2 class="tb tb-title">Trails</h2>

	    <div id="welcome_view">
	    	<div class="title">
			Select trails<br/>
			from the map<br/> 
			or <a href="javascript:void(0)" class="btn btn-tb btn-tb-large discover_btn">Discover</a> the<br/>			
			latest trail.</div>
		</div>	    	
		
	    <div id="cards_container_view">	
	      <div class="trailcards">
  	        <div class="panel trail_card_panel">
		      <div id="cardsview"></div>
    	    </div>
  		  </div>
	  
	      <div class="nav">
	      	<div class="prev"><a href="javascript:void(0)" class="button prev_card">Previous</a></div><!-- 
	      	--><div class="title">Select a Trail</div><!--
	      	--><div class="next"><a href="javascript:void(0)" class="button next_card">Next</a></div>
	        </div>	  
	      </div>

	    	
	    </div>              
  	  	
  	  </div>	  
	</div>
	
  	<div id="view_map_btns">        
		<div class='controls'>
    	<span class="btn btn-tb zoomin_btn">+</span>          
    	<span class="btn btn-tb zoomout_btn">-</span>
    	<span class="btn btn-tb view_btn">Satellite</span>          
	</div>    
</div>        
<div id="view_btns">
	<div id="view_toggle"><a href="{{ app.request.baseUrl }}/trails"><div class="tb-cntrl icon-cards"></div></a></div>
</div>  

<script type="text/template" id="mapTrailCardViewTemplate">
    <div class="title"><h3 class="tb"><%= category.name %></h3></div>
    <div class="link" data-url="{{ app.request.baseUrl }}/trail/<%= slug %>" data-id="<%= id %>">
    <div class="photo tb-photo-btn">
      <div class="image_container fade_on_load"><img data-src="http://app.resrc.it/O=80/http://media.trailburning.com<%= versionLargePath %>" class="resrc scale" border="0"/></div>
      <div class="card_title">
        <h1><%= name %></h1>
        <br/>
        <h2><%= region %></h2>
		<br/>
		<h2>
        <span class="stars">
          <span class="star"></span>
          <span class="star"></span>
          <span class="star"></span>
          <span class="star"></span>
          <span class="star"></span>
        </span>
		</h2>
      </div>
    </div>
    </div>
	<div class="card_avatar">
      <div class="tb-avatar"><div class="photo"><a href="{{ app.request.baseUrl }}/profile/<%= user.name %>"><img src="<%= user.avatar %>"></a></div></div>
	</div>	    
    <div class="location"></div>
    <div class="summary">
	  <div class="length"><%= length_km %> km</div>
	  <div class="altitude">
	  <%= ascent_m %> D+
	  <br/>
	  <%= descent_m %> D-
	  </div>
    </div>
</script>

<script type="text/template" id="mapTrailEventCardViewTemplate">
    <div class="title"><h3 class="tb"><%= category.name %></h3></div>
    <div class="link" data-url="{{ app.request.baseUrl }}/trail/<%= slug %>" data-id="<%= id %>">
    <div class="photo tb-photo-btn">
      <div class="image_container fade_on_load"><img data-src="http://app.resrc.it/O=80/http://media.trailburning.com<%= versionLargePath %>" class="resrc scale" border="0"/></div>
      <div class="card_title">
        <h1><%= name %></h1>
        <br/>
        <h2><%= region %></h2>
      </div>
    </div>
    </div>
	<div class="card_avatar">
      <a href="{{ app.request.baseUrl }}/<%= sponsorURL %>"><img src="http://assets.trailburning.com/images/<%= sponsorURL %>/card_trail_sticker_logo.png"></a>
    </div>
    <div class="location"></div>
    <div class="summary">
	  <div class="length"><%= length_km %> km</div>
	  <div class="altitude">
	  <%= ascent_m %> D+
	  <br/>
	  <%= descent_m %> D-
	  </div>
    </div>
</script>

{% endblock %}
